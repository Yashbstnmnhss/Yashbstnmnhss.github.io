import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import{Z as D,X as N,a4 as M,a3 as q,b as O,E as A,F as P,k as f,bh as X,w as Z,bT as J,j as S,bU as K,n as Q,x as R,v as $,q as Y,bV as ee,y as te,ah as ae,l as re,h as ne}from"./index.30083524.js";import{N as oe}from"./Result.bd13c0d5.js";var ie=D([N("watermark-container",`
 position: relative;
 `,[M("selectable","user-select: none;")]),N("watermark",`
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 background-repeat: repeat;
 `,[q("fullscreen",`
 position: fixed;
 `)])]);function le(e){if(!e)return 1;const n=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/n}const se=Object.assign(Object.assign({},P.props),{debug:Boolean,cross:Boolean,fullscreen:Boolean,width:{type:Number,default:32},height:{type:Number,default:32},zIndex:{type:Number,default:10},xGap:{type:Number,default:0},yGap:{type:Number,default:0},yOffset:{type:Number,default:0},xOffset:{type:Number,default:0},rotate:{type:Number,default:0},image:String,imageOpacity:{type:Number,default:1},imageHeight:Number,imageWidth:Number,content:String,selectable:{type:Boolean,default:!0},fontSize:{type:Number,default:14},fontFamily:String,fontStyle:{type:String,default:"normal"},fontVariant:{type:String,default:""},fontWeight:{type:Number,default:400},fontColor:{type:String,default:"rgba(128, 128, 128, .3)"},fontStretch:{type:String,default:""},lineHeight:{type:Number,default:14}});var ce=O({name:"Watermark",props:se,setup(e,{slots:n}){const{mergedClsPrefixRef:i}=A(e),s=P("Watermark","-watermark",ie,K,e),o=f(""),l=document.createElement("canvas"),a=l.getContext("2d"),u=f(!1);return X(()=>u.value=!0),Z(()=>{u.value;const t=le(a),{xGap:c,yGap:B,width:d,height:m,yOffset:z,xOffset:W,rotate:C,image:g,content:h,fontColor:F,fontStyle:I,fontVariant:H,fontStretch:T,fontWeight:V,fontFamily:G,fontSize:U,lineHeight:y,debug:b}=e,j=(c+d)*t,E=(B+m)*t,v=W*t,p=z*t;if(l.width=j,l.height=E,a){a.translate(0,0);const k=d*t,w=m*t;if(b&&(a.strokeStyle="grey",a.strokeRect(0,0,k,w)),a.rotate(C*(Math.PI/180)),g){const r=new Image;r.crossOrigin="anonymous",r.referrerPolicy="no-referrer",r.src=g,r.onload=()=>{a.globalAlpha=e.imageOpacity;const{imageWidth:_,imageHeight:x}=e;a.drawImage(r,v,p,(e.imageWidth||(x?r.width*x/r.height:r.width))*t,(e.imageHeight||(_?r.height*_/r.width:r.height))*t),o.value=l.toDataURL()}}else h&&(b&&(a.strokeStyle="green",a.strokeRect(0,0,k,w)),a.font=`${I} ${H} ${V} ${T} ${U*t}px/${y*t}px ${G||s.value.self.fontFamily}`,a.fillStyle=F,a.fillText(h,v,p+y*t),o.value=l.toDataURL())}else J("watermark","Canvas is not supported in the browser.")}),()=>{var t;const c=S("div",{class:[`${i.value}-watermark`,e.fullscreen&&`${i.value}-watermark--fullscreen`],style:{zIndex:e.zIndex,backgroundSize:`${e.xGap+e.width}px`,backgroundPosition:e.cross?`${e.width/2}px ${e.height/2}px, 0 0`:"",backgroundImage:e.cross?`url(${o.value}), url(${o.value})`:`url(${o.value})`}});return e.fullscreen?c:S("div",{class:[`${i.value}-watermark-container`,e.selectable&&`${i.value}-watermark-container--selectable`]},(t=n.default)===null||t===void 0?void 0:t.call(n),c)}}});const fe=ne(" ? "),ue=O({setup(e){const n=f("");return(i,s)=>(re(),Q(ae,null,[R($(ce),{content:"NOT FOUND",fullscreen:"",cross:"","font-size":16,"line-height":16,width:384,height:384,"x-offset":12,"y-offset":60,rotate:-15}),R($(oe),{style:ee("background:url("+n.value+") center center / cover no-repeat;"),class:"page-margin",status:"404",title:"404",description:"Not Found",size:"huge"},{footer:Y(()=>[fe]),_:1},8,["style"]),te("audio",{class:"player-center",title:"6999",src:"http://topia.wdfiles.com/local--files/nearer-my-god-to-thee/hymn.mp3",controls:"",loop:"",onPlay:s[0]||(s[0]=o=>n.value="https://scp-wiki.wdfiles.com/local--files/fragment:scp-6000-3/interior.jpg")},null,32)],64))}});var he=L(ue,[["__scopeId","data-v-3cafdc60"]]);export{he as default};
