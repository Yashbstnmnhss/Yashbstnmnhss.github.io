import{V as Ge,a as $e,b as Fe,r as ze,c as Be,p as Se}from"./Tooltip-85fd4e62.js";import{B as q,W as ce,Y as He,Z as Ue,$ as Y,a0 as Q,a1 as qe,a2 as We,a3 as Ve,e as V,h as m,g as fe,j as W,a4 as Ne,l as L,p as J,J as ee,a5 as Ze,a6 as Pe,I as ne,a7 as Je,F as Xe,a8 as Ye,a9 as Qe,aa as en,c as j,ab as nn,b as Z,O as ve,a as $,d as z,G as F,u as tn,f as Ke,H as ie,m as U,n as rn,M as on,ac as an,ad as dn,ae as Re}from"./index-df691239.js";import{N as sn}from"./VolumeHighOutline-eba5aca4.js";import{C as ln}from"./ChevronRight-c145cf11.js";import{u as un}from"./use-merged-state-deff8ad5.js";import{g as ye,j as cn,a as fn}from"./index-d13ca8e3.js";import{I as pn}from"./render-97fbe31b.js";function ge(e,n){let{target:t}=e;for(;t;){if(t.dataset&&t.dataset[n]!==void 0)return!0;t=t.parentElement}return!1}function hn(e){return n=>{n?e.value=n.$el:e.value=null}}function vn(e,n,t){if(!n)return e;const r=q(e.value);let o=null;return ce(e,i=>{o!==null&&window.clearTimeout(o),i===!0?t&&!t.value?r.value=!0:o=window.setTimeout(()=>{r.value=!0},n):r.value=!1}),r}function yn(e={},n){const t=He({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:r,keyup:o}=e,i=d=>{switch(d.key){case"Control":t.ctrl=!0;break;case"Meta":t.command=!0,t.win=!0;break;case"Shift":t.shift=!0;break;case"Tab":t.tab=!0;break}r!==void 0&&Object.keys(r).forEach(u=>{if(u!==d.key)return;const c=r[u];if(typeof c=="function")c(d);else{const{stop:f=!1,prevent:v=!1}=c;f&&d.stopPropagation(),v&&d.preventDefault(),c.handler(d)}})},a=d=>{switch(d.key){case"Control":t.ctrl=!1;break;case"Meta":t.command=!1,t.win=!1;break;case"Shift":t.shift=!1;break;case"Tab":t.tab=!1;break}o!==void 0&&Object.keys(o).forEach(u=>{if(u!==d.key)return;const c=o[u];if(typeof c=="function")c(d);else{const{stop:f=!1,prevent:v=!1}=c;f&&d.stopPropagation(),v&&d.preventDefault(),c.handler(d)}})},s=()=>{(n===void 0||n.value)&&(Y("keydown",document,i),Y("keyup",document,a)),n!==void 0&&ce(n,d=>{d?(Y("keydown",document,i),Y("keyup",document,a)):(Q("keydown",document,i),Q("keyup",document,a))})};return qe()?(We(s),Ve(()=>{(n===void 0||n.value)&&(Q("keydown",document,i),Q("keyup",document,a))})):s(),Ue(t)}function be(e){return Array.isArray(e)?e:[e]}const le={STOP:"STOP"};function Ce(e,n){const t=n(e);e.children!==void 0&&t!==le.STOP&&e.children.forEach(r=>Ce(r,n))}function gn(e,n={}){const{preserveGroup:t=!1}=n,r=[],o=t?a=>{a.isLeaf||(r.push(a.key),i(a.children))}:a=>{a.isLeaf||(a.isGroup||r.push(a.key),i(a.children))};function i(a){a.forEach(o)}return i(e),r}function bn(e,n){const{isLeaf:t}=e;return t!==void 0?t:!n(e)}function mn(e){return e.children}function wn(e){return e.key}function xn(){return!1}function kn(e,n){const{isLeaf:t}=e;return!(t===!1&&!Array.isArray(n(e)))}function Sn(e){return e.disabled===!0}function Nn(e,n){return e.isLeaf===!1&&!Array.isArray(n(e))}function ae(e){var n;return e==null?[]:Array.isArray(e)?e:(n=e.checkedKeys)!==null&&n!==void 0?n:[]}function de(e){var n;return e==null||Array.isArray(e)?[]:(n=e.indeterminateKeys)!==null&&n!==void 0?n:[]}function Pn(e,n){const t=new Set(e);return n.forEach(r=>{t.has(r)||t.add(r)}),Array.from(t)}function Kn(e,n){const t=new Set(e);return n.forEach(r=>{t.has(r)&&t.delete(r)}),Array.from(t)}function Rn(e){return(e==null?void 0:e.type)==="group"}class Cn extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function In(e,n,t,r){return te(n.concat(e),t,r,!1)}function An(e,n){const t=new Set;return e.forEach(r=>{const o=n.treeNodeMap.get(r);if(o!==void 0){let i=o.parent;for(;i!==null&&!(i.disabled||t.has(i.key));)t.add(i.key),i=i.parent}}),t}function On(e,n,t,r){const o=te(n,t,r,!1),i=te(e,t,r,!0),a=An(e,t),s=[];return o.forEach(d=>{(i.has(d)||a.has(d))&&s.push(d)}),s.forEach(d=>o.delete(d)),o}function se(e,n){const{checkedKeys:t,keysToCheck:r,keysToUncheck:o,indeterminateKeys:i,cascade:a,leafOnly:s,checkStrategy:d,allowNotLoaded:u}=e;if(!a)return r!==void 0?{checkedKeys:Pn(t,r),indeterminateKeys:Array.from(i)}:o!==void 0?{checkedKeys:Kn(t,o),indeterminateKeys:Array.from(i)}:{checkedKeys:Array.from(t),indeterminateKeys:Array.from(i)};const{levelTreeNodeMap:c}=n;let f;o!==void 0?f=On(o,t,n,u):r!==void 0?f=In(r,t,n,u):f=te(t,n,u,!1);const v=d==="parent",w=d==="child"||s,y=f,S=new Set,x=Math.max.apply(null,Array.from(c.keys()));for(let R=x;R>=0;R-=1){const T=R===0,M=c.get(R);for(const l of M){if(l.isLeaf)continue;const{key:p,shallowLoaded:C}=l;if(w&&C&&l.children.forEach(N=>{!N.disabled&&!N.isLeaf&&N.shallowLoaded&&y.has(N.key)&&y.delete(N.key)}),l.disabled||!C)continue;let _=!0,O=!1,A=!0;for(const N of l.children){const E=N.key;if(!N.disabled){if(A&&(A=!1),y.has(E))O=!0;else if(S.has(E)){O=!0,_=!1;break}else if(_=!1,O)break}}_&&!A?(v&&l.children.forEach(N=>{!N.disabled&&y.has(N.key)&&y.delete(N.key)}),y.add(p)):O&&S.add(p),T&&w&&y.has(p)&&y.delete(p)}}return{checkedKeys:Array.from(y),indeterminateKeys:Array.from(S)}}function te(e,n,t,r){const{treeNodeMap:o,getChildren:i}=n,a=new Set,s=new Set(e);return e.forEach(d=>{const u=o.get(d);u!==void 0&&Ce(u,c=>{if(c.disabled)return le.STOP;const{key:f}=c;if(!a.has(f)&&(a.add(f),s.add(f),Nn(c.rawNode,i))){if(r)return le.STOP;if(!t)throw new Cn}})}),s}function _n(e,{includeGroup:n=!1,includeSelf:t=!0},r){var o;const i=r.treeNodeMap;let a=e==null?null:(o=i.get(e))!==null&&o!==void 0?o:null;const s={keyPath:[],treeNodePath:[],treeNode:a};if(a!=null&&a.ignored)return s.treeNode=null,s;for(;a;)!a.ignored&&(n||!a.isGroup)&&s.treeNodePath.push(a),a=a.parent;return s.treeNodePath.reverse(),t||s.treeNodePath.pop(),s.keyPath=s.treeNodePath.map(d=>d.key),s}function En(e){if(e.length===0)return null;const n=e[0];return n.isGroup||n.ignored||n.disabled?n.getNext():n}function Ln(e,n){const t=e.siblings,r=t.length,{index:o}=e;return n?t[(o+1)%r]:o===t.length-1?null:t[o+1]}function me(e,n,{loop:t=!1,includeDisabled:r=!1}={}){const o=n==="prev"?Tn:Ln,i={reverse:n==="prev"};let a=!1,s=null;function d(u){if(u!==null){if(u===e){if(!a)a=!0;else if(!e.disabled&&!e.isGroup){s=e;return}}else if((!u.disabled||r)&&!u.ignored&&!u.isGroup){s=u;return}if(u.isGroup){const c=pe(u,i);c!==null?s=c:d(o(u,t))}else{const c=o(u,!1);if(c!==null)d(c);else{const f=Mn(u);f!=null&&f.isGroup?d(o(f,t)):t&&d(o(u,!0))}}}}return d(e),s}function Tn(e,n){const t=e.siblings,r=t.length,{index:o}=e;return n?t[(o-1+r)%r]:o===0?null:t[o-1]}function Mn(e){return e.parent}function pe(e,n={}){const{reverse:t=!1}=n,{children:r}=e;if(r){const{length:o}=r,i=t?o-1:0,a=t?-1:o,s=t?-1:1;for(let d=i;d!==a;d+=s){const u=r[d];if(!u.disabled&&!u.ignored)if(u.isGroup){const c=pe(u,n);if(c!==null)return c}else return u}}return null}const Dn={getChild(){return this.ignored?null:pe(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return me(this,"next",e)},getPrev(e={}){return me(this,"prev",e)}};function jn(e,n){const t=n?new Set(n):void 0,r=[];function o(i){i.forEach(a=>{r.push(a),!(a.isLeaf||!a.children||a.ignored)&&(a.isGroup||t===void 0||t.has(a.key))&&o(a.children)})}return o(e),r}function Gn(e,n){const t=e.key;for(;n;){if(n.key===t)return!0;n=n.parent}return!1}function Ie(e,n,t,r,o,i=null,a=0){const s=[];return e.forEach((d,u)=>{var c;const f=Object.create(r);if(f.rawNode=d,f.siblings=s,f.level=a,f.index=u,f.isFirstChild=u===0,f.isLastChild=u+1===e.length,f.parent=i,!f.ignored){const v=o(d);Array.isArray(v)&&(f.children=Ie(v,n,t,r,o,f,a+1))}s.push(f),n.set(f.key,f),t.has(a)||t.set(a,[]),(c=t.get(a))===null||c===void 0||c.push(f)}),s}function $n(e,n={}){var t;const r=new Map,o=new Map,{getDisabled:i=Sn,getIgnored:a=xn,getIsGroup:s=Rn,getKey:d=wn}=n,u=(t=n.getChildren)!==null&&t!==void 0?t:mn,c=n.ignoreEmptyChildren?l=>{const p=u(l);return Array.isArray(p)?p.length?p:null:p}:u,f=Object.assign({get key(){return d(this.rawNode)},get disabled(){return i(this.rawNode)},get isGroup(){return s(this.rawNode)},get isLeaf(){return bn(this.rawNode,c)},get shallowLoaded(){return kn(this.rawNode,c)},get ignored(){return a(this.rawNode)},contains(l){return Gn(this,l)}},Dn),v=Ie(e,r,o,f,c);function w(l){if(l==null)return null;const p=r.get(l);return p&&!p.isGroup&&!p.ignored?p:null}function y(l){if(l==null)return null;const p=r.get(l);return p&&!p.ignored?p:null}function S(l,p){const C=y(l);return C?C.getPrev(p):null}function x(l,p){const C=y(l);return C?C.getNext(p):null}function R(l){const p=y(l);return p?p.getParent():null}function T(l){const p=y(l);return p?p.getChild():null}const M={treeNodes:v,treeNodeMap:r,levelTreeNodeMap:o,maxLevel:Math.max(...o.keys()),getChildren:c,getFlattenedNodes(l){return jn(v,l)},getNode:w,getPrev:S,getNext:x,getParent:R,getChild:T,getFirstAvailableNode(){return En(v)},getPath(l,p={}){return _n(l,p,M)},getCheckedKeys(l,p={}){const{cascade:C=!0,leafOnly:_=!1,checkStrategy:O="all",allowNotLoaded:A=!1}=p;return se({checkedKeys:ae(l),indeterminateKeys:de(l),cascade:C,leafOnly:_,checkStrategy:O,allowNotLoaded:A},M)},check(l,p,C={}){const{cascade:_=!0,leafOnly:O=!1,checkStrategy:A="all",allowNotLoaded:N=!1}=C;return se({checkedKeys:ae(p),indeterminateKeys:de(p),keysToCheck:l==null?[]:be(l),cascade:_,leafOnly:O,checkStrategy:A,allowNotLoaded:N},M)},uncheck(l,p,C={}){const{cascade:_=!0,leafOnly:O=!1,checkStrategy:A="all",allowNotLoaded:N=!1}=C;return se({checkedKeys:ae(p),indeterminateKeys:de(p),keysToUncheck:l==null?[]:be(l),cascade:_,leafOnly:O,checkStrategy:A,allowNotLoaded:N},M)},getNonLeafKeys(l={}){return gn(v,l)}};return M}const Ae=V({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return m("div",{class:`${this.clsPrefix}-dropdown-divider`})}}),he=fe("n-dropdown-menu"),re=fe("n-dropdown"),we=fe("n-dropdown-option");function ue(e,n){return e.type==="submenu"||e.type===void 0&&e[n]!==void 0}function Fn(e){return e.type==="group"}function Oe(e){return e.type==="divider"}function zn(e){return e.type==="render"}const _e=V({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object,scrollable:Boolean},setup(e){const n=W(re),{hoverKeyRef:t,keyboardKeyRef:r,lastToggledSubmenuKeyRef:o,pendingKeyPathRef:i,activeKeyPathRef:a,animatedRef:s,mergedShowRef:d,renderLabelRef:u,renderIconRef:c,labelFieldRef:f,childrenFieldRef:v,renderOptionRef:w,nodePropsRef:y,menuPropsRef:S}=n,x=W(we,null),R=W(he),T=W(Ne),M=L(()=>e.tmNode.rawNode),l=L(()=>{const{value:b}=v;return ue(e.tmNode.rawNode,b)}),p=L(()=>{const{disabled:b}=e.tmNode;return b}),C=L(()=>{if(!l.value)return!1;const{key:b,disabled:I}=e.tmNode;if(I)return!1;const{value:G}=t,{value:B}=r,{value:oe}=o,{value:H}=i;return G!==null?H.includes(b):B!==null?H.includes(b)&&H[H.length-1]!==b:oe!==null?H.includes(b):!1}),_=L(()=>r.value===null&&!s.value),O=vn(C,300,_),A=L(()=>!!(x!=null&&x.enteringSubmenuRef.value)),N=q(!1);J(we,{enteringSubmenuRef:N});function E(){N.value=!0}function h(){N.value=!1}function P(){const{parentKey:b,tmNode:I}=e;I.disabled||d.value&&(o.value=b,r.value=null,t.value=I.key)}function g(){const{tmNode:b}=e;b.disabled||d.value&&t.value!==b.key&&P()}function k(b){if(e.tmNode.disabled||!d.value)return;const{relatedTarget:I}=b;I&&!ge({target:I},"dropdownOption")&&!ge({target:I},"scrollbarRail")&&(t.value=null)}function D(){const{value:b}=l,{tmNode:I}=e;d.value&&!b&&!I.disabled&&(n.doSelect(I.key,I.rawNode),n.doUpdateShow(!1))}return{labelField:f,renderLabel:u,renderIcon:c,siblingHasIcon:R.showIconRef,siblingHasSubmenu:R.hasSubmenuRef,menuProps:S,popoverBody:T,animated:s,mergedShowSubmenu:L(()=>O.value&&!A.value),rawNode:M,hasSubmenu:l,pending:ee(()=>{const{value:b}=i,{key:I}=e.tmNode;return b.includes(I)}),childActive:ee(()=>{const{value:b}=a,{key:I}=e.tmNode,G=b.findIndex(B=>I===B);return G===-1?!1:G<b.length-1}),active:ee(()=>{const{value:b}=a,{key:I}=e.tmNode,G=b.findIndex(B=>I===B);return G===-1?!1:G===b.length-1}),mergedDisabled:p,renderOption:w,nodeProps:y,handleClick:D,handleMouseMove:g,handleMouseEnter:P,handleMouseLeave:k,handleSubmenuBeforeEnter:E,handleSubmenuAfterEnter:h}},render(){var e,n;const{animated:t,rawNode:r,mergedShowSubmenu:o,clsPrefix:i,siblingHasIcon:a,siblingHasSubmenu:s,renderLabel:d,renderIcon:u,renderOption:c,nodeProps:f,props:v,scrollable:w}=this;let y=null;if(o){const T=(e=this.menuProps)===null||e===void 0?void 0:e.call(this,r,r.children);y=m(Ee,Object.assign({},T,{clsPrefix:i,scrollable:this.scrollable,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}))}const S={class:[`${i}-dropdown-option-body`,this.pending&&`${i}-dropdown-option-body--pending`,this.active&&`${i}-dropdown-option-body--active`,this.childActive&&`${i}-dropdown-option-body--child-active`,this.mergedDisabled&&`${i}-dropdown-option-body--disabled`],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick},x=f==null?void 0:f(r),R=m("div",Object.assign({class:[`${i}-dropdown-option`,x==null?void 0:x.class],"data-dropdown-option":!0},x),m("div",Pe(S,v),[m("div",{class:[`${i}-dropdown-option-body__prefix`,a&&`${i}-dropdown-option-body__prefix--show-icon`]},[u?u(r):ne(r.icon)]),m("div",{"data-dropdown-option":!0,class:`${i}-dropdown-option-body__label`},d?d(r):ne((n=r[this.labelField])!==null&&n!==void 0?n:r.title)),m("div",{"data-dropdown-option":!0,class:[`${i}-dropdown-option-body__suffix`,s&&`${i}-dropdown-option-body__suffix--has-submenu`]},this.hasSubmenu?m(sn,null,{default:()=>m(ln,null)}):null)]),this.hasSubmenu?m(Ge,null,{default:()=>[m($e,null,{default:()=>m("div",{class:`${i}-dropdown-offset-container`},m(Fe,{show:this.mergedShowSubmenu,placement:this.placement,to:w&&this.popoverBody||void 0,teleportDisabled:!w},{default:()=>m("div",{class:`${i}-dropdown-menu-wrapper`},t?m(Ze,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:()=>y}):y)}))})]}):null);return c?c({node:R,option:r}):R}}),Bn=V({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef:e,hasSubmenuRef:n}=W(he),{renderLabelRef:t,labelFieldRef:r,nodePropsRef:o,renderOptionRef:i}=W(re);return{labelField:r,showIcon:e,hasSubmenu:n,renderLabel:t,nodeProps:o,renderOption:i}},render(){var e;const{clsPrefix:n,hasSubmenu:t,showIcon:r,nodeProps:o,renderLabel:i,renderOption:a}=this,{rawNode:s}=this.tmNode,d=m("div",Object.assign({class:`${n}-dropdown-option`},o==null?void 0:o(s)),m("div",{class:`${n}-dropdown-option-body ${n}-dropdown-option-body--group`},m("div",{"data-dropdown-option":!0,class:[`${n}-dropdown-option-body__prefix`,r&&`${n}-dropdown-option-body__prefix--show-icon`]},ne(s.icon)),m("div",{class:`${n}-dropdown-option-body__label`,"data-dropdown-option":!0},i?i(s):ne((e=s.title)!==null&&e!==void 0?e:s[this.labelField])),m("div",{class:[`${n}-dropdown-option-body__suffix`,t&&`${n}-dropdown-option-body__suffix--has-submenu`],"data-dropdown-option":!0})));return a?a({node:d,option:s}):d}}),Hn=V({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode:e,parentKey:n,clsPrefix:t}=this,{children:r}=e;return m(Xe,null,m(Bn,{clsPrefix:t,tmNode:e,key:e.key}),r==null?void 0:r.map(o=>{const{rawNode:i}=o;return i.show===!1?null:Oe(i)?m(Ae,{clsPrefix:t,key:o.key}):o.isGroup?(Je("dropdown","`group` node is not allowed to be put in `group` node."),null):m(_e,{clsPrefix:t,tmNode:o,parentKey:n,key:o.key})}))}}),Un=V({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:e,props:n}}=this.tmNode;return m("div",n,[e==null?void 0:e()])}}),Ee=V({name:"DropdownMenu",props:{scrollable:Boolean,showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:()=>[]},parentKey:{type:[String,Number],default:null}},setup(e){const{renderIconRef:n,childrenFieldRef:t}=W(re);J(he,{showIconRef:L(()=>{const o=n.value;return e.tmNodes.some(i=>{var a;if(i.isGroup)return(a=i.children)===null||a===void 0?void 0:a.some(({rawNode:d})=>o?o(d):d.icon);const{rawNode:s}=i;return o?o(s):s.icon})}),hasSubmenuRef:L(()=>{const{value:o}=t;return e.tmNodes.some(i=>{var a;if(i.isGroup)return(a=i.children)===null||a===void 0?void 0:a.some(({rawNode:d})=>ue(d,o));const{rawNode:s}=i;return ue(s,o)})})});const r=q(null);return J(Qe,null),J(en,null),J(Ne,r),{bodyRef:r}},render(){const{parentKey:e,clsPrefix:n,scrollable:t}=this,r=this.tmNodes.map(o=>{const{rawNode:i}=o;return i.show===!1?null:zn(i)?m(Un,{tmNode:o,key:o.key}):Oe(i)?m(Ae,{clsPrefix:n,key:o.key}):Fn(i)?m(Hn,{clsPrefix:n,tmNode:o,parentKey:e,key:o.key}):m(_e,{clsPrefix:n,tmNode:o,parentKey:e,key:o.key,props:i.props,scrollable:t})});return m("div",{class:[`${n}-dropdown-menu`,t&&`${n}-dropdown-menu--scrollable`],ref:"bodyRef"},t?m(Ye,{contentClass:`${n}-dropdown-menu__content`},{default:()=>r}):r,this.showArrow?ze({clsPrefix:n,arrowStyle:this.arrowStyle}):null)}}),qn=j("dropdown-menu",`
 transform-origin: var(--v-transform-origin);
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 position: relative;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[nn(),j("dropdown-option",`
 position: relative;
 `,[Z("a",`
 text-decoration: none;
 color: inherit;
 outline: none;
 `,[Z("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),j("dropdown-option-body",`
 display: flex;
 cursor: pointer;
 position: relative;
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-font-size);
 color: var(--n-option-text-color);
 transition: color .3s var(--n-bezier);
 `,[Z("&::before",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 left: 4px;
 right: 4px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `),ve("disabled",[$("pending",`
 color: var(--n-option-text-color-hover);
 `,[z("prefix, suffix",`
 color: var(--n-option-text-color-hover);
 `),Z("&::before","background-color: var(--n-option-color-hover);")]),$("active",`
 color: var(--n-option-text-color-active);
 `,[z("prefix, suffix",`
 color: var(--n-option-text-color-active);
 `),Z("&::before","background-color: var(--n-option-color-active);")]),$("child-active",`
 color: var(--n-option-text-color-child-active);
 `,[z("prefix, suffix",`
 color: var(--n-option-text-color-child-active);
 `)])]),$("disabled",`
 cursor: not-allowed;
 opacity: var(--n-option-opacity-disabled);
 `),$("group",`
 font-size: calc(var(--n-font-size) - 1px);
 color: var(--n-group-header-text-color);
 `,[z("prefix",`
 width: calc(var(--n-option-prefix-width) / 2);
 `,[$("show-icon",`
 width: calc(var(--n-option-icon-prefix-width) / 2);
 `)])]),z("prefix",`
 width: var(--n-option-prefix-width);
 display: flex;
 justify-content: center;
 align-items: center;
 color: var(--n-prefix-color);
 transition: color .3s var(--n-bezier);
 z-index: 1;
 `,[$("show-icon",`
 width: var(--n-option-icon-prefix-width);
 `),j("icon",`
 font-size: var(--n-option-icon-size);
 `)]),z("label",`
 white-space: nowrap;
 flex: 1;
 z-index: 1;
 `),z("suffix",`
 box-sizing: border-box;
 flex-grow: 0;
 flex-shrink: 0;
 display: flex;
 justify-content: flex-end;
 align-items: center;
 min-width: var(--n-option-suffix-width);
 padding: 0 8px;
 transition: color .3s var(--n-bezier);
 color: var(--n-suffix-color);
 z-index: 1;
 `,[$("has-submenu",`
 width: var(--n-option-icon-suffix-width);
 `),j("icon",`
 font-size: var(--n-option-icon-size);
 `)]),j("dropdown-menu","pointer-events: all;")]),j("dropdown-offset-container",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: -4px;
 bottom: -4px;
 `)]),j("dropdown-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 4px 0;
 `),j("dropdown-menu-wrapper",`
 transform-origin: var(--v-transform-origin);
 width: fit-content;
 `),Z(">",[j("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),ve("scrollable",`
 padding: var(--n-padding);
 `),$("scrollable",[z("content",`
 padding: var(--n-padding);
 `)])]),Wn={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:()=>[]},menuProps:Function,showArrow:Boolean,renderLabel:Function,renderIcon:Function,renderOption:Function,nodeProps:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},Vn=Object.keys(Se),Zn=Object.assign(Object.assign(Object.assign({},Se),Wn),Ke.props),dt=V({name:"Dropdown",inheritAttrs:!1,props:Zn,setup(e){const n=q(!1),t=un(F(e,"show"),n),r=L(()=>{const{keyField:h,childrenField:P}=e;return $n(e.options,{getKey(g){return g[h]},getDisabled(g){return g.disabled===!0},getIgnored(g){return g.type==="divider"||g.type==="render"},getChildren(g){return g[P]}})}),o=L(()=>r.value.treeNodes),i=q(null),a=q(null),s=q(null),d=L(()=>{var h,P,g;return(g=(P=(h=i.value)!==null&&h!==void 0?h:a.value)!==null&&P!==void 0?P:s.value)!==null&&g!==void 0?g:null}),u=L(()=>r.value.getPath(d.value).keyPath),c=L(()=>r.value.getPath(e.value).keyPath),f=ee(()=>e.keyboard&&t.value);yn({keydown:{ArrowUp:{prevent:!0,handler:p},ArrowRight:{prevent:!0,handler:l},ArrowDown:{prevent:!0,handler:C},ArrowLeft:{prevent:!0,handler:M},Enter:{prevent:!0,handler:_},Escape:T}},f);const{mergedClsPrefixRef:v,inlineThemeDisabled:w}=tn(e),y=Ke("Dropdown","-dropdown",qn,an,e,v);J(re,{labelFieldRef:F(e,"labelField"),childrenFieldRef:F(e,"childrenField"),renderLabelRef:F(e,"renderLabel"),renderIconRef:F(e,"renderIcon"),hoverKeyRef:i,keyboardKeyRef:a,lastToggledSubmenuKeyRef:s,pendingKeyPathRef:u,activeKeyPathRef:c,animatedRef:F(e,"animated"),mergedShowRef:t,nodePropsRef:F(e,"nodeProps"),renderOptionRef:F(e,"renderOption"),menuPropsRef:F(e,"menuProps"),doSelect:S,doUpdateShow:x}),ce(t,h=>{!e.animated&&!h&&R()});function S(h,P){const{onSelect:g}=e;g&&ie(g,h,P)}function x(h){const{"onUpdate:show":P,onUpdateShow:g}=e;P&&ie(P,h),g&&ie(g,h),n.value=h}function R(){i.value=null,a.value=null,s.value=null}function T(){x(!1)}function M(){A("left")}function l(){A("right")}function p(){A("up")}function C(){A("down")}function _(){const h=O();h!=null&&h.isLeaf&&t.value&&(S(h.key,h.rawNode),x(!1))}function O(){var h;const{value:P}=r,{value:g}=d;return!P||g===null?null:(h=P.getNode(g))!==null&&h!==void 0?h:null}function A(h){const{value:P}=d,{value:{getFirstAvailableNode:g}}=r;let k=null;if(P===null){const D=g();D!==null&&(k=D.key)}else{const D=O();if(D){let b;switch(h){case"down":b=D.getNext();break;case"up":b=D.getPrev();break;case"right":b=D.getChild();break;case"left":b=D.getParent();break}b&&(k=b.key)}}k!==null&&(i.value=null,a.value=k)}const N=L(()=>{const{size:h,inverted:P}=e,{common:{cubicBezierEaseInOut:g},self:k}=y.value,{padding:D,dividerColor:b,borderRadius:I,optionOpacityDisabled:G,[U("optionIconSuffixWidth",h)]:B,[U("optionSuffixWidth",h)]:oe,[U("optionIconPrefixWidth",h)]:H,[U("optionPrefixWidth",h)]:Te,[U("fontSize",h)]:Me,[U("optionHeight",h)]:De,[U("optionIconSize",h)]:je}=k,K={"--n-bezier":g,"--n-font-size":Me,"--n-padding":D,"--n-border-radius":I,"--n-option-height":De,"--n-option-prefix-width":Te,"--n-option-icon-prefix-width":H,"--n-option-suffix-width":oe,"--n-option-icon-suffix-width":B,"--n-option-icon-size":je,"--n-divider-color":b,"--n-option-opacity-disabled":G};return P?(K["--n-color"]=k.colorInverted,K["--n-option-color-hover"]=k.optionColorHoverInverted,K["--n-option-color-active"]=k.optionColorActiveInverted,K["--n-option-text-color"]=k.optionTextColorInverted,K["--n-option-text-color-hover"]=k.optionTextColorHoverInverted,K["--n-option-text-color-active"]=k.optionTextColorActiveInverted,K["--n-option-text-color-child-active"]=k.optionTextColorChildActiveInverted,K["--n-prefix-color"]=k.prefixColorInverted,K["--n-suffix-color"]=k.suffixColorInverted,K["--n-group-header-text-color"]=k.groupHeaderTextColorInverted):(K["--n-color"]=k.color,K["--n-option-color-hover"]=k.optionColorHover,K["--n-option-color-active"]=k.optionColorActive,K["--n-option-text-color"]=k.optionTextColor,K["--n-option-text-color-hover"]=k.optionTextColorHover,K["--n-option-text-color-active"]=k.optionTextColorActive,K["--n-option-text-color-child-active"]=k.optionTextColorChildActive,K["--n-prefix-color"]=k.prefixColor,K["--n-suffix-color"]=k.suffixColor,K["--n-group-header-text-color"]=k.groupHeaderTextColor),K}),E=w?rn("dropdown",L(()=>`${e.size[0]}${e.inverted?"i":""}`),N,e):void 0;return{mergedClsPrefix:v,mergedTheme:y,tmNodes:o,mergedShow:t,handleAfterLeave:()=>{e.animated&&R()},doUpdateShow:x,cssVars:w?void 0:N,themeClass:E==null?void 0:E.themeClass,onRender:E==null?void 0:E.onRender}},render(){const e=(r,o,i,a,s)=>{var d;const{mergedClsPrefix:u,menuProps:c}=this;(d=this.onRender)===null||d===void 0||d.call(this);const f=(c==null?void 0:c(void 0,this.tmNodes.map(w=>w.rawNode)))||{},v={ref:hn(o),class:[r,`${u}-dropdown`,this.themeClass],clsPrefix:u,tmNodes:this.tmNodes,style:[i,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,scrollable:this.scrollable,onMouseenter:a,onMouseleave:s};return m(Ee,Pe(this.$attrs,v,f))},{mergedTheme:n}=this,t={show:this.mergedShow,theme:n.peers.Popover,themeOverrides:n.peerOverrides.Popover,internalOnAfterLeave:this.handleAfterLeave,internalRenderBody:e,onUpdateShow:this.doUpdateShow,"onUpdate:show":void 0};return m(Be,Object.assign({},on(this.$props,Vn),t),{trigger:()=>{var r,o;return(o=(r=this.$slots).default)===null||o===void 0?void 0:o.call(r)}})}}),Jn=["header","default","footer"],xe={header:!1,footer:!1,default:{label:"口 日 丿 巨 匚 丅"}},Xn=dn.getRoutes().filter(e=>e.components&&e.meta.menu),X={},Le=e=>`group_${e}`,ke="default";function Yn(e){if(e in X||(Qn(),e in X))return X[e];Re.error("[Route]","[Menu]","Unknown Menu",{key:e})}function st(e,n){var t=Yn(e);if(t){var r=t.find(o=>o.type==="group"&&o.key===Le(n));if(r)return r;Re.error("[Route]","[Menu]","Unknown Group",{menu:e,group:n})}}function Qn(){const e={};Object.entries(ye(Xn,r=>r.meta.menu.for)).forEach(r=>{var o=r[0],i=r[1];const a=Object.fromEntries(Jn.map(v=>[v,[]]));i.sort((v,w)=>(v.meta.menu.order??0)-(w.meta.menu.order??0));const s=[];for(var d=0;d<i.length;d++){let v=function(w){if(w){var y={for:o,...w},S=t(y,""),x=s.findIndex(R=>R[0].key===S.key);x<0?s.push([S,y]):s[x][0]=fn(s[x][0],S),w.parent&&v(w.parent)}};var u=i[d].meta.menu,c=t(u,i[d].path),f=s.findIndex(w=>w[0].key===c.key);if(f>=0){s[f]={...s[f],...c};continue}s.push([c,u]),v(u.parent)}Object.entries(ye(s,v=>v[1].group??ke)).forEach(v=>{var w=v[0],y=v[1];const S=[];for(var x=0;x<y.length;x++){var R=y[x],T=R[0],M=R[1];if(M.parent)(function(C,_){if(!_)return;var O=N(y.map(E=>E[0]),_.key),A=y[O];(A[0].children??(A[0].children=[])).push(C);function N(E,h){var P=E.findIndex(g=>g.key===h);return P>=0?P:N(E.filter(g=>g.children&&g.children.length>0).flatMap(g=>g.children),h)}})(T,M.parent);else{var l=S.findIndex(p=>p.key===T.key);l<0?S.push(T):S[l]={...S[l],...T}}}S.sort(),a[w in a?w:ke].push(...S)}),e[o]=cn(Object.entries(a).map(v=>{var w=v[0],y=v[1],S=w in xe?xe[w]:void 0;if(S===!1)return y;var x={type:"group",key:Le(w),children:y};return S&&(x=Object.assign(S,x)),x}),{type:"divider"}).flat()});for(var n in e)X[n]=e[n];function t(r,o){return{key:r.key,label:r.label,iconType:r.icon?pn[r.icon]:void 0,link:o}}}export{dt as N,st as a,$n as c,Yn as g};
