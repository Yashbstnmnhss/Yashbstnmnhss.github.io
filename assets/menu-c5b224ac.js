import{al as T,am as B,q as n,an as D}from"./index-ef01de82.js";import{I as F}from"./render-dc308c5a.js";const Q=""+new URL("logo-d938aa57.svg",import.meta.url).href,L={jokes:["header","default","expand","footer","props"]},U={jokes:{header:!1,footer:!1,props:!1,default:{label:"口 日 厂 巨 匚 丁"},expand:{label:"巨 乂 尸 亼 冂 刀"}}},g={},q=r=>`group_${r}`,j="default";function K(r){if(r in g||($(B.getRoutes().filter(({meta:{menu:e}})=>(e==null?void 0:e.for)===r)),r in g))return g[r];T.error("[Route]","[Menu]","Unknown menu",{key:r})}function V(r,e){var l=K(r);if(l){var v=l.find(a=>a.type==="group"&&a.key===q(e));if(v)return v;T.error("[Route]","[Menu]","Unknown group",{menu:r,group:e})}}function $(r=B.getRoutes()){const e=H(r);for(var l in e)g[l]=e[l]}function z({components:r,meta:{menu:e,enable:l}}){return!n.isUndefined(r)&&!n.isUndefined(e)&&l!==!1&&e.for}function H(r=B.getRoutes()){const e=r.filter(z),l={};return n.toPairs(n.groupBy(e,({meta:{menu:a}})=>a.for)).forEach(a=>{var[s,m]=a;const x=n.fromPairs((s in L&&L[s].length>0?L[s]:[j]).map(i=>[i,[]]));m=n.orderBy(m,({meta:{menu:i}})=>i.order??0);const d=[];for(var R=0;R<m.length;R++){let i=function(t){if(t){var o={for:s,...t},f=v(o,""),p=d.findIndex(([{key:h},y])=>h===f.key);p<0?d.push([f,o]):d[p][0]=n.defaults(d[p][0],f),t.parent&&i(t.parent)}};const u=m[R];var I=u.meta.menu,_=v(I,u.path),b=d.findIndex(([{key:t},o])=>t===_.key);if(b>=0){d[b]={...d[b],..._};continue}d.push([_,I]),i(I.parent)}n.toPairs(n.groupBy(d,([i,{group:u}])=>u??j)).forEach(i=>{var[u,t]=i;const o=[];for(var f=0;f<t.length;f++){var[p,h]=t[f];if(h.parent)(function(A,E){if(!E)return;var C=M(t.map(P=>P[0]),E.key),G=t[C];(G[0].children??(G[0].children=[])).push(A);function M(P,O){var w=P.findIndex(({key:c})=>c===O);return w>=0?w:M(P.filter(({children:c})=>c&&c.length>0).flatMap(({children:c})=>c),O)}})(p,h.parent);else{var y=o.findIndex(({key:k})=>k===p.key);y<0?o.push(p):o[y]={...o[y],...p}}}x[u in x?u:j].push(...n.orderBy(o,({order:k})=>k??0))}),l[s]=D(n.toPairs(x).map(i=>{var[u,t]=i,o=s in U&&!n.isUndefined(U[s])&&u in U[s]?U[s][u]:void 0;if(o===!1)return t;var f={type:"group",key:q(u),children:t};return o&&(f=Object.assign(o,f)),f}),{type:"divider"}).flat()}),l;function v(a,s){return{key:a.key,label:a.label,iconType:a.icon?F[a.icon]:void 0,link:s,order:a.order??0}}}export{Q as L,K as a,V as g};
