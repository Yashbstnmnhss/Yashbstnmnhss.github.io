import{cg as B,Z as T,J as a,ch as F}from"./index-5231cf4b.js";import{I as J}from"./render-ba076f4f.js";const b={jokes:["header","default","footer","props"]},U={jokes:{header:!1,footer:!1,props:!1,default:{label:"口 日 丿 巨 匚 丅"}}},g={},A=r=>`group_${r}`,j="default";function K(r){if(r in g||(Z(B.getRoutes().filter(({meta:{menu:e}})=>(e==null?void 0:e.for)===r)),r in g))return g[r];T.error("[Route]","[Menu]","Unknown menu",{key:r})}function N(r,e){var c=K(r);if(c){var v=c.find(n=>n.type==="group"&&n.key===A(e));if(v)return v;T.error("[Route]","[Menu]","Unknown group",{menu:r,group:e})}}function Z(r=B.getRoutes()){const e=q(r);for(var c in e)g[c]=e[c]}function $({components:r,meta:{menu:e}}){return!a.isUndefined(r)&&!a.isUndefined(e)&&e.for}function q(r=B.getRoutes()){const e=r.filter($),c={};return a.toPairs(a.groupBy(e,({meta:{menu:n}})=>n.for)).forEach(n=>{var[s,h]=n;const R=a.fromPairs((s in b&&b[s].length>0?b[s]:[j]).map(i=>[i,[]]));h=a.orderBy(h,({meta:{menu:i}})=>i.order??0);const l=[];for(var I=0;I<h.length;I++){let i=function(t){if(t){var o={for:s,...t},f=v(o,""),d=l.findIndex(([{key:m},y])=>m===f.key);d<0?l.push([f,o]):l[d][0]=a.defaults(l[d][0],f),t.parent&&i(t.parent)}};const u=h[I];var _=u.meta.menu,x=v(_,u.path),L=l.findIndex(([{key:t},o])=>t===x.key);if(L>=0){l[L]={...l[L],...x};continue}l.push([x,_]),i(_.parent)}a.toPairs(a.groupBy(l,([i,{group:u}])=>u??j)).forEach(i=>{var[u,t]=i;const o=[];for(var f=0;f<t.length;f++){var[d,m]=t[f];if(m.parent)(function(C,E){if(!E)return;var D=M(t.map(P=>P[0]),E.key),G=t[D];(G[0].children??(G[0].children=[])).push(C);function M(P,O){var w=P.findIndex(({key:p})=>p===O);return w>=0?w:M(P.filter(({children:p})=>p&&p.length>0).flatMap(({children:p})=>p),O)}})(d,m.parent);else{var y=o.findIndex(({key:k})=>k===d.key);y<0?o.push(d):o[y]={...o[y],...d}}}R[u in R?u:j].push(...a.orderBy(o,({order:k})=>k??0))}),c[s]=F(a.toPairs(R).map(i=>{var[u,t]=i,o=s in U&&!a.isUndefined(U[s])&&u in U[s]?U[s][u]:void 0;if(o===!1)return t;var f={type:"group",key:A(u),children:t};return o&&(f=Object.assign(o,f)),f}),{type:"divider"}).flat()}),c;function v(n,s){return{key:n.key,label:n.label,iconType:n.icon?J[n.icon]:void 0,link:s,order:n.order??0}}}const Q=""+new URL("logo-d938aa57.svg",import.meta.url).href;export{Q as L,N as a,K as g};
